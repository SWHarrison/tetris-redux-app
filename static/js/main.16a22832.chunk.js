(window["webpackJsonptetris-redux-app"]=window["webpackJsonptetris-redux-app"]||[]).push([[0],{15:function(e,t,n){},18:function(e,t,n){e.exports=n.p+"static/media/chevron-left-solid.dc880f17.svg"},19:function(e,t,n){e.exports=n.p+"static/media/chevron-right-solid.1fce7054.svg"},20:function(e,t,n){e.exports=n.p+"static/media/sync-alt-solid.b1b03f76.svg"},21:function(e,t,n){e.exports=n.p+"static/media/chevron-down-solid.2c0862a6.svg"},23:function(e,t,n){e.exports=n(33)},33:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(10),i=n.n(o),c=(n(15),n(2)),s=n(3),l=n(5),u=n(4),m=n(6),p=n(9),h=n(1),g=n(17),f=function(){return{type:"MOVE_RIGHT"}},d=function(){return{type:"MOVE_LEFT"}},v=function(){return{type:"ROTATE"}},b=function(){return{type:"MOVE_DOWN"}},O=function(){return{type:"PAUSE"}},E=function(){return{type:"RESUME"}},y=function(){return{type:"RESTART"}},j=n(22),w=function(){for(var e=[],t=0;t<18;t++){e.push([]);for(var n=0;n<10;n++)e[t].push(0)}return e},R=function(){return e=1,t=S.length-1,Math.floor(Math.random()*(t-e+1))+e;var e,t},k=function(){return{grid:w(),shape:R(),rotation:0,x:5,y:-4,nextShape:R(),isRunning:!0,score:0,linesCleared:0,level:1,speed:1e3,gameOver:!1}},T=function(e,t){return(t+1)%S[e].length},x=function(e,t,n,r,a){for(var o=S[e][a],i=0;i<o.length;i++)for(var c=0;c<o[i].length;c++)if(0!==o[i][c]){var s=c+n,l=i+r;if(l<0)continue;var u=t[l];if(!u)return!1;if(void 0===u[s]||0!==u[s])return!1}return!0},C=function(e,t,n,r,a){for(var o=!1,i=S[e][a],c=Object(j.a)(t),s=0;s<i.length;s++)for(var l=0;l<i[s].length;l++){if(i[s][l])s+r<0?o=!0:c[s+r][l+n]=e}return console.log("addBlockToGrid: ".concat(o)),{grid:c,gameOver:o}},N=function(e){for(var t=0,n=0;n<e.length;n++)-1===e[n].indexOf(0)&&(t+=1,e.splice(n,1),e.unshift(Array(10).fill(0)));return{score:[0,40,100,300,1200][t],rowsCleared:t}},S=[[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]],[[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]]],[[[0,0,0,0],[1,1,1,0],[0,1,0,0],[0,0,0,0]],[[0,1,0,0],[1,1,0,0],[0,1,0,0],[0,0,0,0]],[[0,1,0,0],[1,1,1,0],[0,0,0,0],[0,0,0,0]],[[0,1,0,0],[0,1,1,0],[0,1,0,0],[0,0,0,0]]],[[[0,0,0,0],[1,1,1,0],[1,0,0,0],[0,0,0,0]],[[1,1,0,0],[0,1,0,0],[0,1,0,0],[0,0,0,0]],[[0,0,1,0],[1,1,1,0],[0,0,0,0],[0,0,0,0]],[[0,1,0,0],[0,1,0,0],[0,1,1,0],[0,0,0,0]]],[[[1,0,0,0],[1,1,1,0],[0,0,0,0],[0,0,0,0]],[[0,1,1,0],[0,1,0,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[1,1,1,0],[0,0,1,0],[0,0,0,0]],[[0,1,0,0],[0,1,0,0],[1,1,0,0],[0,0,0,0]]],[[[0,0,0,0],[1,1,0,0],[0,1,1,0],[0,0,0,0]],[[0,0,1,0],[0,1,1,0],[0,1,0,0],[0,0,0,0]]],[[[0,0,0,0],[0,1,1,0],[1,1,0,0],[0,0,0,0]],[[0,1,0,0],[0,1,1,0],[0,0,1,0],[0,0,0,0]]],[[[0,1,1,0],[0,1,1,0],[0,0,0,0],[0,0,0,0]]]];function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k(),t=arguments.length>1?arguments[1]:void 0,n=e.shape,r=e.grid,a=e.x,o=e.y,i=e.rotation,c=e.nextShape,s=e.score,l=e.linesCleared,u=e.isRunning;switch(t.type){case"ROTATE":var m=T(n,i);return x(n,r,a,o,m)?D({},e,{rotation:m}):e;case"MOVE_RIGHT":return x(n,r,a+1,o,i)?D({},e,{x:a+1}):e;case"MOVE_LEFT":return x(n,r,a-1,o,i)?D({},e,{x:a-1}):e;case"MOVE_DOWN":var p=o+1;if(x(n,r,a,p,i))return D({},e,{y:p});var h=C(n,r,a,o,i),g=h.grid,f=h.gameOver;if(f){var d=D({},e);return d.shape=0,d.grid=g,D({},e,{gameOver:!0})}var v=k();v.grid=g,v.shape=c,v.nextShape=R(),v.score=s,v.isRunning=u;var b=N(g);return v.score=s+b.score,v.linesCleared=l+b.rowsCleared,v;case"RESUME":return D({},e,{isRunning:!0});case"PAUSE":return D({},e,{isRunning:!1});case"GAME_OVER":return e;case"RESTART":return k();default:return e}},P=Object(p.b)({game:M}),G=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e="grid-square color-".concat(this.props.color);return a.a.createElement("div",{className:e})}}]),t}(r.Component),U=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).lastUpdateTime=0,n.progressTime=0,n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.requestAnimationFrame(this.update.bind(this))}},{key:"update",value:function(e){if(window.requestAnimationFrame(this.update.bind(this)),this.props.isRunning){this.lastUpdateTime||(this.lastUpdateTime=e);var t=e-this.lastUpdateTime;this.progressTime+=t,this.progressTime>this.props.speed&&(this.props.moveDown(),this.progressTime=0),this.lastUpdateTime=e}}},{key:"makeGrid",value:function(){var e=this.props,t=e.grid,n=e.shape,r=e.rotation,o=e.x,i=e.y,c=S[n][r],s=n;return t.map(function(e,n){return e.map(function(e,r){var l=r-o,u=n-i,m=e;l>=0&&l<c.length&&u>=0&&u<c.length&&(m=0===c[u][l]?m:s);var p=n*t[0].length+r;return a.a.createElement(G,{key:p,square:e,color:m},e)})})}},{key:"render",value:function(){return a.a.createElement("div",{className:"grid-board"},this.makeGrid())}}]),t}(r.Component),L=Object(h.b)(function(e){return{grid:e.game.grid,shape:e.game.shape,rotation:e.game.rotation,x:e.game.x,y:e.game.y,speed:e.game.speed,isRunning:e.game.isRunning}},{moveDown:b})(U),V=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"makeGrid",value:function(){var e=this.props.shape,t=S[e][0];return S[0][0].map(function(n,r){return n.map(function(n,o){var i=0===t[r][o]?0:e;return a.a.createElement(G,{key:"".concat(r).concat(o),color:i})})})}},{key:"render",value:function(){return a.a.createElement("div",{className:"next-block"},this.makeGrid())}}]),t}(r.Component),_=Object(h.b)(function(e){return{shape:e.game.nextShape}})(V);var F=Object(h.b)(function(e){return{score:e.game.score,isRunning:e.game.isRunning,gameOver:e.game.gameOver,level:e.game.level}},{pause:O,resume:E,restart:y})(function(e){var t=e.isRunning,n=e.level,r=e.resume,o=e.pause,i=e.restart,c=e.gameOver;return a.a.createElement("div",{className:"score-board"},a.a.createElement("div",{className:"not-selectable"},"Level: ",n),a.a.createElement("button",{className:"score-board-button not-selectable",onClick:function(e){c||(t?o():r())}},t?"Pause":"Resume"),a.a.createElement("button",{className:"score-board-button not-selectable",onClick:function(e){i()}},"Restart"))}),W=n(18),q=n.n(W),B=n(19),I=n.n(B),J=n(20),H=n.n(J),Q=n(21),z=n.n(Q),K=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.isRunning,r=t.gameOver,o=function(e,t){return a.a.createElement("button",{className:"control-button not-selectable",onClick:function(t){e(t)}},a.a.createElement("img",{src:t.url,alt:t.alt}))};return a.a.createElement("div",{className:"controls"},o(function(){console.log(n,r),n&&!r&&e.props.moveLeft()},{url:q.a,alt:"Left Arrow Symbol"}),o(function(){n&&!r&&e.props.moveRight()},{url:I.a,alt:"Right Arrow Symbol"}),o(function(){n&&!r&&e.props.rotate()},{url:H.a,alt:"Rotate Arrow Symbol"}),a.a.createElement("button",{className:"control-button",onClick:function(t){n&&!r&&e.props.moveDown()}},a.a.createElement("img",{src:z.a})))}}]),t}(r.Component),$=Object(h.b)(function(e){return{isRunning:e.game.isRunning,gameOver:e.game.gameOver}},{moveRight:f,moveLeft:d,moveDown:b,rotate:v})(K),X=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.gameOver,n=e.isRunning,r="",o="hidden";return console.log("Message Popup"),console.log(t,n),t?(r="Game Over",o=""):n?r="???":(r="Paused",o=""),a.a.createElement("div",{className:"message-popup ".concat(o," not-selectable")},a.a.createElement("h1",null,r),a.a.createElement("p",null))}}]),t}(r.Component),Y=Object(h.b)(function(e){return{gameOver:e.game.gameOver,isRunning:e.game.isRunning}},{restart:y})(X);var Z=Object(h.b)(function(e){return{score:e.game.score,linesCleared:e.game.linesCleared,isRunning:e.game.isRunning,gameOver:e.game.gameOver}},{})(function(e){return a.a.createElement("div",{className:"score-view not-selectable"},a.a.createElement("p",{className:"score"},"Score: ",a.a.createElement("span",null,e.score)),a.a.createElement("p",{className:"lines-complete"},"Lines: Cleared: ",e.linesCleared))}),ee=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("footer",{class:"page-footer"},a.a.createElement("div",{class:"footer-container"},a.a.createElement("div",null,a.a.createElement("h1",null,"Links"),a.a.createElement("p",{class:"grey-text text-lighten-4"},"Like this game? Find out more about the history"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Tetris"},"The history of Tetris")),a.a.createElement("li",null,a.a.createElement("a",{href:"https://www.youtube.com/watch?v=_fQtxKmgJC8"},"Tetris Documentary")),a.a.createElement("li",null,a.a.createElement("a",{href:"https://mentalfloss.com/article/85866/5-fun-facts-about-tetris"},"Tetris Trivia")),a.a.createElement("li",null,a.a.createElement("a",{href:"https://www.youtube.com/watch?v=ViwDUiCzPVU"},"Tetris: The Grandmaster Showcase AGDQ")))),a.a.createElement("div",{class:"row"},a.a.createElement("p",{class:"grey-text text-lighten-4"},"Or help contribute to the project"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("a",{href:"https://reactjs.org/"},"Created with React")),a.a.createElement("li",null,a.a.createElement("a",{href:"https://react-redux.js.org/"},"and Redux")),a.a.createElement("li",null,a.a.createElement("a",{href:"https://github.com/MakeSchool-Tutorials/web-7-react-redux-tetris-app"},"Tutorial to make this game")),a.a.createElement("li",null,a.a.createElement("a",{href:"https://github.com/soggybag/tetris-redux-app/issues"},"Want to contribute to this project?")),a.a.createElement("li",null,a.a.createElement("a",{href:"https://github.com/soggybag/tetris-redux-app"},"Link to this repo"))))))}}]),t}(r.Component),te=Object(p.c)(P),ne=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(h.a,{store:te},a.a.createElement("div",{className:"container"},a.a.createElement("header",{className:"header"},a.a.createElement("h1",{className:"App-title"},"Tetris Redux")),a.a.createElement("div",{className:"App"},a.a.createElement(Z,null),a.a.createElement(L,null),a.a.createElement(_,null),a.a.createElement(F,null),a.a.createElement($,null),a.a.createElement(Y,null)),a.a.createElement(ee,null)))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.16a22832.chunk.js.map